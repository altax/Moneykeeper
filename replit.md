# Копилка - Приложение для накоплений

## Обзор
Мобильное приложение для Android, разработанное на React Native (Expo), которое помогает пользователю копить деньги на заданную цель.

## Текущее состояние
- Готова версия MVP с полным функционалом
- Тёмный минималистичный дизайн
- Локальное хранение данных через AsyncStorage
- Добавлен функционал отслеживания рабочих смен

## Основной функционал
- Создание и редактирование финансовых целей
- Визуальный прогресс накоплений (круговая диаграмма)
- Добавление накоплений с валидацией суммы (не превышает цель)
- Перенос излишков на другие цели при превышении
- Динамическое изменение цвета прогресс-бара по мере приближения к цели
- Отслеживание рабочих смен (дата, тип операции, планируемый заработок)
- История накоплений с группировкой по целям
- Настройки приложения (имя пользователя, уведомления)

## Технологии
- React Native с Expo SDK 54
- React Navigation 7 для навигации
- AsyncStorage для локального хранения
- react-native-svg для визуализации прогресса
- react-native-reanimated для анимаций

## Структура проекта
```
client/
├── components/        # UI компоненты
│   ├── CircularProgress.tsx  # Круговой прогресс
│   ├── ProgressBar.tsx       # Линейный прогресс (динамические цвета)
│   ├── GoalCard.tsx          # Карточка цели с рабочими сменами
│   ├── ContributionItem.tsx  # Элемент накопления
│   ├── FAB.tsx               # Плавающая кнопка
│   └── EmptyState.tsx        # Пустое состояние
├── screens/           # Экраны приложения
│   ├── GoalsScreen.tsx        # Список целей + модалки переноса излишков
│   ├── GoalDetailScreen.tsx   # Детали цели
│   ├── HistoryScreen.tsx      # История накоплений (по целям)
│   ├── SettingsScreen.tsx     # Настройки
│   ├── AddGoalModal.tsx       # Добавление цели
│   └── AddContributionModal.tsx # Добавление накопления
├── navigation/        # Навигация
├── lib/              # Утилиты и хранилище
│   ├── storage.ts    # AsyncStorage операции (+ WorkSession)
│   └── types.ts      # TypeScript типы (+ WorkSession)
└── constants/        # Тема и константы
```

## Дизайн
- Тёмная тема (#0F0F0F фон)
- Акцентный цвет: фиолетовый (#6C63FF)
- Плавные анимации переходов
- iOS 26 Liquid Glass стиль
- Динамические цвета прогресс-бара:
  - 0-25%: красный (#FF6B6B)
  - 25-50%: оранжевый (#FFA500)
  - 50-75%: жёлтый (#FFD700)
  - 75-100%: зелёный (#4CAF50)

## Запуск
```bash
npm run all:dev
```

## Последние изменения
- 2025-12-05: Добавлен полноценный календарь для выбора произвольной даты рабочей смены
- 2025-12-05: Улучшено отображение записей на работу - компактный вид для множественных записей
- 2025-12-05: Расширен выбор даты для записей (30 дней + произвольные даты)
- 2025-12-05: Добавлено подтверждение при отмене записи на работу
- 2025-12-05: Показывается остаток средств при планировании смены
- 2025-12-05: Добавлена валидация суммы пополнения с переносом излишков на другие цели
- 2025-12-05: Динамическое изменение цвета прогресс-бара по проценту выполнения
- 2025-12-05: Добавлена функция отслеживания рабочих смен (дата, тип операции, заработок)
- 2025-12-05: Переработана история накоплений с группировкой по целям
- 2025-12-05: Исправлено перекрытие заголовка при создании цели
- 2025-12-05: Создан MVP приложения Копилка

## Статус функционала
### Реализовано:
- Сейф в нижней навигации (вкладка "Сейф")
- Иконки для целей (21 стандартная иконка)
- Пополнение и снятие из сейфа на цели
- Перенос излишков на другие цели или в сейф
- Светлая тема в стиле Ozon (синий акцент #005BFF)
- Отображение остатка средств при планировании смены
- Подтверждение при отмене записи на работу
- Компактное отображение множественных записей

### В планах:
- Выбор нескольких целей одновременно для распределения излишков
