# Копилка - Приложение для накоплений

## Обзор
Мобильное приложение для Android, разработанное на React Native (Expo), которое помогает пользователю копить деньги на заданную цель.

## Текущее состояние
- Готова версия MVP с полным функционалом
- Профессиональный тёмный дизайн в стиле банковского приложения
- Локальное хранение данных через AsyncStorage
- Добавлен функционал отслеживания рабочих смен

## Основной функционал
- Создание и редактирование финансовых целей
- Визуальный прогресс накоплений (круговая диаграмма)
- Добавление накоплений с валидацией суммы (не превышает цель)
- Перенос излишков на другие цели при превышении
- Динамическое изменение цвета прогресс-бара по мере приближения к цели
- Отслеживание рабочих смен (дата, тип операции, планируемый заработок)
- История накоплений с группировкой по целям
- Настройки приложения (имя пользователя, уведомления)

## Технологии
- React Native с Expo SDK 54
- React Navigation 7 для навигации
- AsyncStorage для локального хранения
- react-native-svg для визуализации прогресса
- react-native-reanimated для анимаций
- MaterialCommunityIcons для иконок

## Структура проекта
```
client/
├── components/        # UI компоненты
│   ├── CircularProgress.tsx  # Круговой прогресс
│   ├── ProgressBar.tsx       # Линейный прогресс (динамические цвета)
│   ├── GoalCard.tsx          # Карточка цели
│   ├── ContributionItem.tsx  # Элемент накопления
│   └── EmptyState.tsx        # Пустое состояние
├── screens/           # Экраны приложения
│   ├── GoalsScreen.tsx        # Список целей + смены
│   ├── GoalDetailScreen.tsx   # Детали цели
│   ├── SafeScreen.tsx         # Сейф для излишков
│   ├── HistoryScreen.tsx      # История накоплений
│   ├── SettingsScreen.tsx     # Настройки
│   └── AddGoalModal.tsx       # Добавление цели
├── navigation/        # Навигация
├── lib/              # Утилиты и хранилище
│   ├── storage.ts    # AsyncStorage операции
│   └── types.ts      # TypeScript типы
└── constants/        # Тема и константы
    └── theme.ts      # Цветовая палитра и стили
```

## Дизайн
- Профессиональная тёмная тема (#0A0A0F корневой фон, #12121A основной фон)
- Цветовая палитра:
  - Primary: #60A5FA (синий)
  - Accent: #818CF8 (индиго)
  - Success: #34D399 (зелёный)
  - Warning: #FBBF24 (жёлтый)
  - Error: #F87171 (красный)
- Карточки с тонкими границами и элегантными тенями
- Плавные анимации переходов
- Адаптивный дизайн для разных размеров экранов

## Запуск
```bash
npm run all:dev
```

## Последние изменения
- 2025-12-05: Добавлено автозавершение истёкших смен (после 12 часов автоматически завершаются с плановыми значениями)
- 2025-12-05: Улучшен баннер завершения смены (приоритет истёкших смен, предупреждающий цвет)
- 2025-12-05: Добавлено отображение оставшегося времени для активных смен
- 2025-12-05: Добавлена секция активных смен с прогресс-баром (12-часовое окно)
- 2025-12-05: Добавлено отображение времени до начала запланированных смен
- 2025-12-05: Исправлена совместимость с Expo Go (отключены экспериментальные функции)
- 2025-12-05: Мягкая гармоничная цветовая палитра для тёмной темы
- 2025-12-05: Профессиональный редизайн UI с когерентной тёмной цветовой палитрой
- 2025-12-05: Удалена плавающая кнопка (FAB), добавлена кнопка "Новая цель" в заголовок
- 2025-12-05: Переработан раздел смен с элегантным минималистичным дизайном
- 2025-12-05: Обновлены все компоненты (GoalCard, ProgressBar, Card, Button, EmptyState)
- 2025-12-05: Улучшен экран сейфа с профессиональным оформлением
- 2025-12-05: Добавлен полноценный календарь для выбора произвольной даты рабочей смены
- 2025-12-05: Добавлена валидация суммы пополнения с переносом излишков на другие цели
- 2025-12-05: Динамическое изменение цвета прогресс-бара по проценту выполнения
- 2025-12-05: Создан MVP приложения Копилка

## Статус функционала
### Реализовано:
- Профессиональный тёмный дизайн в стиле банковского приложения
- Сейф для хранения излишков средств
- Иконки для целей (21 стандартная иконка)
- Перенос излишков на другие цели или в сейф
- Планирование рабочих смен с расчётом заработка
- Автозавершение смен после 12 часов с плановыми значениями
- Отображение времени до начала запланированных смен
- Секция активных смен с прогресс-баром
- Баннер для завершения истёкших смен
- Адаптивный дизайн для разных экранов

### В планах:
- Выбор нескольких целей одновременно для распределения излишков
